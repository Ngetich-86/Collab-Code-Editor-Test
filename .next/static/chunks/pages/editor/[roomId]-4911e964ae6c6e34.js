(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[732],{402:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/editor/[roomId]",function(){return a(1169)}])},1169:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var t=a(5640),r=a(8645),l=a(148),o=a(2689),n=a(1699),c=a(149);a(4878);var i=a(2022),d=a(7949);let x=(0,o.Ay)("http://localhost:3001");function m(){let e=(0,r.useRouter)(),{roomId:s,username:a}=e.query,[o,m]=(0,l.useState)(""),[h,u]=(0,l.useState)([]),[g,p]=(0,l.useState)("javascript"),[j,v]=(0,l.useState)("vs-dark"),[f,b]=(0,l.useState)("roomInfo"),[N,w]=(0,l.useState)(!0),y=(0,l.useCallback)(e=>{m(e),x.emit("code-changed",{roomId:s,code:e}),c.oR.success("Changes saved",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},[s]);return(0,l.useEffect)(()=>{if(!s||!a)return;let e=e=>{m(e),c.oR.info("Code updated by another user",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},t=e=>{u(e),c.oR.info("Users in room: ".concat(e.length),{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return x.emit("join-room",{roomId:s,username:a}),x.on("update-code",e),x.on("room-users",t),()=>{x.off("update-code",e),x.off("room-users",t),x.disconnect()}},[s,a]),(0,t.jsxs)("div",{className:"flex flex-col h-screen bg-gray-900 text-white",children:[(0,t.jsx)(c.N9,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"}),(0,t.jsx)("nav",{className:"bg-gray-800 shadow-lg",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("button",{onClick:()=>w(!N),className:"md:hidden p-2 rounded-lg hover:bg-gray-700 transition-colors",children:N?(0,t.jsx)(i.QCr,{}):(0,t.jsx)(i.OXb,{})}),(0,t.jsx)(i.FSj,{className:"text-blue-500 text-2xl"}),(0,t.jsx)("span",{className:"text-xl font-bold text-white",children:"CodeCollab"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(e=>{switch(e){case"javascript":return(0,t.jsx)(d.AeH,{className:"text-yellow-400"});case"python":return(0,t.jsx)(d.ptC,{className:"text-blue-500"});case"cpp":return(0,t.jsx)(d.Qin,{className:"text-blue-600"});case"java":return(0,t.jsx)(i.ScZ,{className:"text-red-500"});default:return null}})(g),(0,t.jsx)("span",{className:"text-sm font-medium",children:g.toUpperCase()})]}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)("span",{className:"text-sm text-gray-300",children:["Users: ",h.length]})})]})]})})}),(0,t.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,t.jsx)("div",{className:"".concat(N?"w-1/5":"w-0"," md:w-1/5 transition-all duration-300 ease-in-out bg-gray-800 shadow-2xl flex flex-col overflow-hidden"),children:(0,t.jsxs)("div",{className:"p-6 flex flex-col h-full",children:[(0,t.jsxs)("nav",{className:"space-y-2",children:[(0,t.jsxs)("button",{onClick:()=>e.push("/"),className:"w-full p-3 rounded-lg text-left flex items-center space-x-2 hover:bg-gray-700 transition-colors duration-200",children:[(0,t.jsx)(i.rQ8,{className:"text-blue-400"}),(0,t.jsx)("span",{children:"Back to Home"})]}),(0,t.jsxs)("button",{className:"w-full p-3 rounded-lg text-left flex items-center space-x-2 ".concat("roomInfo"===f?"bg-gray-700":"hover:bg-gray-700"),onClick:()=>b("roomInfo"),children:[(0,t.jsx)(i.__w,{className:"text-blue-400"}),(0,t.jsx)("span",{children:"Room Info"})]}),(0,t.jsxs)("button",{className:"w-full p-3 rounded-lg text-left flex items-center space-x-2 ".concat("participants"===f?"bg-gray-700":"hover:bg-gray-700"),onClick:()=>b("participants"),children:[(0,t.jsx)(i.YXz,{className:"text-green-400"}),(0,t.jsx)("span",{children:"Participants"})]}),(0,t.jsxs)("button",{className:"w-full p-3 rounded-lg text-left flex items-center space-x-2 ".concat("settings"===f?"bg-gray-700":"hover:bg-gray-700"),onClick:()=>b("settings"),children:[(0,t.jsx)(i.Pcn,{className:"text-purple-400"}),(0,t.jsx)("span",{children:"Settings"})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex-1 overflow-y-auto",children:["roomInfo"===f&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative transform-style-3d perspective-1000",children:[(0,t.jsx)("h2",{className:"text-lg font-bold",children:"Username"}),(0,t.jsx)("span",{className:"text-sm text-gray-300 bg-gray-600 px-2 py-1 rounded-lg shadow-md transform-3d rotate-x-10 hover:rotate-x-0 transition-transform duration-300",children:a})]}),(0,t.jsxs)("div",{className:"relative transform-style-3d perspective-1000",children:[(0,t.jsx)("h2",{className:"text-lg font-bold",children:"Room ID"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-300 bg-gray-600 px-2 py-1 rounded-lg shadow-md transform-3d rotate-y-10 hover:rotate-y-0 transition-transform duration-300",children:s}),(0,t.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(s),c.oR.success("Room ID copied to clipboard!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},className:"p-2 bg-blue-500 rounded-full hover:bg-blue-400 transition",children:(0,t.jsx)(i.paH,{size:16})})]})]})]}),"participants"===f&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Participants"}),h.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-xl text-center font-semibold shadow-lg transform hover:scale-105 transition",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),(0,t.jsx)("span",{className:"text-md text-white",children:e})]},s))]}),"settings"===f&&(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("label",{className:"block text-sm mb-2",children:"Language:"}),(0,t.jsxs)("select",{className:"w-full p-2 rounded bg-gray-700 text-white shadow-md",value:g,onChange:e=>{p(e.target.value),c.oR.success("Language changed to ".concat(e.target.value),{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:[(0,t.jsxs)("option",{value:"javascript",className:"flex items-center",children:[(0,t.jsx)(d.AeH,{className:"mr-2"})," JavaScript"]}),(0,t.jsxs)("option",{value:"python",children:[(0,t.jsx)(d.ptC,{className:"mr-2"})," Python"]}),(0,t.jsxs)("option",{value:"cpp",children:[(0,t.jsx)(d.Qin,{className:"mr-2"})," C++"]}),(0,t.jsxs)("option",{value:"java",children:[(0,t.jsx)(i.ScZ,{className:"mr-2"})," Java"]})]}),(0,t.jsx)("button",{className:"w-full mt-4 p-2 bg-blue-500 rounded-lg hover:bg-blue-600 shadow-lg transform hover:scale-105 transition flex items-center justify-center space-x-2",onClick:()=>{let e="vs-dark"===j?"light":"vs-dark";v(e),c.oR.success("Theme changed to ".concat("vs-dark"===e?"Dark":"Light"," mode"),{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:"vs-dark"===j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.wQq,{className:"text-yellow-400"}),(0,t.jsx)("span",{children:"Switch to Light Mode"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.V6H,{className:"text-gray-200"}),(0,t.jsx)("span",{children:"Switch to Dark Mode"})]})})]})]})]})}),(0,t.jsx)("div",{className:"".concat(N?"w-4/5":"w-full"," md:w-4/5 p-6 transition-all duration-300 ease-in-out"),children:(0,t.jsx)(n.Ay,{height:"100%",width:"100%",language:g,theme:j,value:o,onChange:y})})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[505,723,377,636,593,792],()=>s(402)),_N_E=e.O()}]);